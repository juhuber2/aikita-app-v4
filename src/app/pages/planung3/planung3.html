<h2>Kinderliste</h2>

<!-- Formular -->
<form [formGroup]="form" (ngSubmit)="onSubmit()" class="form">
  <label>
    Name:
    <input formControlName="name" />
  </label>
  @if (form.get('name')?.invalid && form.get('name')?.touched) {
    <div class="error">Name muss mindestens 2 Zeichen haben</div>
  }

  <label>
    Alter:
    <input type="number" formControlName="alter" />
  </label>
  @if (form.get('alter')?.invalid && form.get('alter')?.touched) {
    <div class="error">Alter muss mindestens 1 sein</div>
  }

  <label>
    Gruppe:
    <select formControlName="gruppe">
      <option value="">Bitte wählen</option>
      <option value="Löwen">Löwen</option>
      <option value="Tiger">Tiger</option>
      <option value="Bären">Bären</option>
    </select>
  </label>
  @if (form.get('gruppe')?.invalid && form.get('gruppe')?.touched) {
    <div class="error">Bitte eine Gruppe auswählen</div>
  }

  <button type="submit" [disabled]="form.invalid">
    {{ editMode ? 'Aktualisieren' : 'Hinzufügen' }}
  </button>
  @if (editMode) {
    <button type="button" (click)="cancel()">Abbrechen</button>
  }
</form>

<hr />

<!-- Tabelle -->
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Alter</th>
      <th>Gruppe</th>
      <th>Aktionen</th>
    </tr>
  </thead>
  <tbody>
    @for (kind of kinder; track kind.id) {
      <tr>
        <td>{{ kind.name }}</td>
        <td>{{ kind.alter }}</td>
        <td>{{ kind.gruppe }}</td>
        <td>
          <button (click)="editKind(kind)">Bearbeiten</button>
          <button (click)="deleteKind(kind.id)">Löschen</button>
        </td>
      </tr>
    }
  </tbody>
</table>

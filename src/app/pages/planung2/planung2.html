<h1 class="text-center">Beobachtung</h1>
<h4 class="text-center">Hier werden die Kinder angezeigt.</h4>




<div class="container my-5">
  <div class="row">
     <div class="col-4 table-col">
                <div class="table-container">
                   <table class="table">
                  <tbody>
                    @for (kind of childrenList; track kind) {
                      <tr>
                        <!-- Radio -->
                        <td>
                          <input
                            type="radio"
                            name="childSelect"
                            [value]="kind.id"
                            (change)="onSelectChild(kind.id)" />
                        </td>

                        <!-- Name -->
                        <td> <label for="kindRadio{{kind.id}}">{{ kind.name }}</label> </td>
                      </tr>
                    }
                  </tbody>
                </table>
    </div>
    
     </div>

 <div class="col-4">
      <div class="details-container">
        <div *ngIf="selectedChild; else noSelection">
          <div class="card shadow rounded position-relative">
              <img 
                *ngIf="selectedChild.img" [src]="selectedChild.img" alt="Kind Bild" 
                class="img-fluid position-absolute top-0 end-0 m-2" style="max-height: 90px;"
              />
            <div class="card-body">
                <h5 class="card-title fw-bold fs-2">{{ selectedChild.name }}</h5>
                <h6 class="card-subtitle mb-2 text-muted">
                  {{ getGenderDisplay(selectedChild.gender) }} ‚Ä¢
                  {{ calculateAge(selectedChild.birthdate) }} Jahre ‚Ä¢
                  Gruppe: {{ selectedChild.groupId }}
              </h6>
            </div>
          </div>
        </div>

     
        <div class="container-fluid my-4">
        <div class="row row-cols-1 row-cols-md-2 g-4">
          <div class="col" *ngFor="let obs of fullDatas">
            <div class="card h-100 shadow-sm">
              <div class="card-body d-flex flex-column">

                <!-- Datum -->
                <p class="card-text text-muted flex-grow-1">
                {{ obs.createdUtc | date:'dd.MM.yyyy HH:mm' }}</p>
                
                <!-- Beobachtung -->
                <h5 class="card-title fw-bold">üìù Beobachtung</h5>
                <p class="card-text text-muted flex-grow-1">{{ obs.observations }}</p>

                <!-- Ziel -->
                <h5 class="card-title fw-bold mt-3">üéØ Ziel</h5>
                <p class="card-text text-muted flex-grow-1">{{ obs.goal }}</p>

                <!-- Aktivit√§ten -->
                <h5 class="card-title fw-bold mt-3">üé® Aktivit√§ten</h5>
                <div class="overflow-auto" style="max-height: 200px;">
                  <ul class="list-group list-group-flush">
                    <li 
                      *ngFor="let act of obs.activity" 
                      class="list-group-item d-flex align-items-center animate__animated animate__fadeInUp"
                    >
                      <i class="bi bi-check-circle-fill text-success me-2"></i>
                      <span>{{ act }}</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


  <ng-template #noSelection>
    <p>Bitte ein Kind ausw√§hlen.</p>
  </ng-template>
</div>



  </div>
</div>